(()=>{var e={};e.id=902,e.ids=[902,888,660],e.modules={9632:e=>{e.exports={layout:"AppLayout_layout__f7yxr",header:"AppLayout_header__7NFpD","content-wrapper":"AppLayout_content-wrapper__L_j8g",content:"AppLayout_content__XSUzC"}},4836:e=>{e.exports={form:"Edit_form__Dc329"}},6003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>z,default:()=>O,getServerSideProps:()=>T,getStaticPaths:()=>R,getStaticProps:()=>G,reportWebVitals:()=>H,routeModule:()=>B,unstable_getServerProps:()=>W,unstable_getServerSideProps:()=>X,unstable_getStaticParams:()=>E,unstable_getStaticPaths:()=>Z,unstable_getStaticProps:()=>V});var a={};r.r(a),r.d(a,{default:()=>F,getServerSideProps:()=>I});var l=r(7093),n=r(5244),s=r(1323),i=r(6605),o=r(5062),d=r(997);let u=require("antd/lib/form/Form");var c=r.n(u);let p=require("antd/lib/form/FormItem");var m=r.n(p);let f=require("antd/lib/input/Input");var x=r.n(f),b=r(4836),h=r.n(b),g=r(3800),j=r.n(g),y=r(7374),v=r.n(y);let S=require("antd/lib/date-picker");var _=r.n(S),q=r(1635),P=r.n(q),A=r(9114),w=r(1163),$=r(1664),C=r.n($),k=r(6689),M=r(1260),N=r(5152);let L=r.n(N)()(()=>Promise.resolve().then(r.t.bind(r,5345,23)),{loadableGenerated:{modules:["admin/edit/[[...id]].tsx -> for-editor"]},ssr:!1}),I=async e=>{let t=e.params?.id;if(!t)return{props:{}};let{data:r}=await M.Z.query({query:A.gql`
      query QueryArticle($id: ID!) {
        article(id: $id) {
          id
          title
          content
          createdAt
        }
      }
    `,variables:{id:Number(t)}});return{props:{data:r}}},D=A.gql`
  mutation CreateDraftMutation(
    $title: String!
    $content: String!
    $createdAt: String!
  ) {
    createArticle(title: $title, content: $content, createdAt: $createdAt) {
      id
      title
      content
      createdAt
    }
  }
`,F=function({data:e}){(0,k.useRef)(null);let[t]=(0,A.useMutation)(D),r=(0,w.useRouter)(),a=async e=>{await t({variables:{title:e.title,content:e.content,createdAt:e.createdAt.valueOf().toString()}}),r.push("/admin/list")};return console.log(e),d.jsx("div",{className:"layout-content",children:(0,d.jsxs)(c(),{name:"basic",labelCol:{span:4},wrapperCol:{span:20},className:`${h().form}`,initialValues:{title:e?.article.title||"",content:e?.article.content||"",createdAt:e?.article.createdAt?P()(Number(e.article.createdAt)):P()()},onFinish:a,children:[d.jsx(m(),{label:"文章标题",name:"title",rules:[{required:!0,message:"请输入文章标题!"}],children:d.jsx(x(),{})}),d.jsx(m(),{label:"文章内容",name:"content",rules:[{required:!0,message:"请输入文章内容!"}],children:d.jsx(L,{})}),d.jsx(m(),{label:"发布时间",name:"createdAt",rules:[{required:!0}],children:d.jsx(_(),{showTime:!0,needConfirm:!1})}),d.jsx(m(),{wrapperCol:{offset:4,span:20},children:(0,d.jsxs)(v(),{children:[d.jsx(j(),{type:"primary",htmlType:"submit",children:"发布文章"}),d.jsx(C(),{href:"/admin/list",children:d.jsx(j(),{type:"primary",danger:!0,children:"返回列表"})})]})})]})})},O=(0,s.l)(a,"default"),G=(0,s.l)(a,"getStaticProps"),R=(0,s.l)(a,"getStaticPaths"),T=(0,s.l)(a,"getServerSideProps"),z=(0,s.l)(a,"config"),H=(0,s.l)(a,"reportWebVitals"),V=(0,s.l)(a,"unstable_getStaticProps"),Z=(0,s.l)(a,"unstable_getStaticPaths"),E=(0,s.l)(a,"unstable_getStaticParams"),W=(0,s.l)(a,"unstable_getServerProps"),X=(0,s.l)(a,"unstable_getServerSideProps"),B=new l.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/admin/edit/[[...id]]",pathname:"/admin/edit/[[...id]]",bundlePath:"",filename:""},components:{App:o.default,Document:i.default},userland:a})},1260:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(9114);let l=new a.ApolloClient({uri:"http://localhost:3000/api/graphql",cache:new a.InMemoryCache})},3841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{noSSR:function(){return i},default:function(){return o}});let a=r(167),l=r(997);r(6689);let n=a._(r(4830));function s(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){delete t.webpack,delete t.modules;let r=t.loading;return()=>(0,l.jsx)(r,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function o(e,t){let r=n.default,a={loading:e=>{let{error:t,isLoading:r,pastDelay:a}=e;return null}};e instanceof Promise?a.loader=()=>e:"function"==typeof e?a.loader=e:"object"==typeof e&&(a={...a,...e});let l=(a={...a,...t}).loader;return(a.loadableGenerated&&(a={...a,...a.loadableGenerated},delete a.loadableGenerated),"boolean"!=typeof a.ssr||a.ssr)?r({...a,loader:()=>null!=l?l().then(s):Promise.resolve(s(()=>null))}):(delete a.webpack,delete a.modules,i(r,a))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5062:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a=r(997);r(6764);let l=require("antd/lib/config-provider");var n=r.n(l),s=r(6689);let i=require("antd/lib/layout");var o=r.n(i);let d=require("antd/lib/menu");var u=r.n(d);let c=require("antd/lib/theme");var p=r.n(c),m=r(1163),f=r(9632),x=r.n(f);let{Header:b,Content:h,Footer:g}=o(),j=(0,m.withRouter)(({children:e,router:t})=>{let{token:{colorBgContainer:r,borderRadiusLG:l}}=p().useToken(),n=(0,s.useCallback)(({key:e})=>{t.push(e)},[]);return a.jsx(a.Fragment,{children:(0,a.jsxs)(o(),{className:`${x().layout}`,children:[a.jsx(b,{className:`${x().header}`,children:a.jsx(u(),{mode:"horizontal",defaultSelectedKeys:[t.pathname],onClick:n,items:[{label:"前台页面",key:"/front/list"},{label:"后台管理",key:"/admin/list"}]})}),a.jsx(h,{className:`${x()["content-wrapper"]}`,children:a.jsx("div",{className:`${x().content}`,children:e})})]})})});var y=r(9114),v=r(1260);function S({Component:e,pageProps:t}){return a.jsx(y.ApolloProvider,{client:v.Z,children:a.jsx(n(),{theme:{components:{Layout:{headerBg:"#ffffff"}}},children:a.jsx(j,{children:a.jsx(e,{...t})})})})}},6605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(997);r(6689);let l=require("@ant-design/cssinjs");var n=r(6859),s=r.n(n);let i=()=>(0,a.jsxs)(n.Html,{lang:"en",children:[a.jsx(n.Head,{}),(0,a.jsxs)("body",{children:[a.jsx(n.Main,{}),a.jsx(n.NextScript,{})]})]});i.getInitialProps=async e=>{let t=(0,l.createCache)(),r=e.renderPage;e.renderPage=()=>r({enhanceApp:e=>r=>a.jsx(l.StyleProvider,{cache:t,children:a.jsx(e,{...r})})});let n=await s().getInitialProps(e),i=(0,l.extractStyle)(t,!0);return{...n,styles:(0,a.jsxs)(a.Fragment,{children:[n.styles,a.jsx("style",{dangerouslySetInnerHTML:{__html:i}})]})}};let o=i},6764:()=>{},4830:(e,t,r)=>{"use strict";e.exports=r(7093).vendored.contexts.Loadable},5152:(e,t,r)=>{e.exports=r(3841)},9114:e=>{"use strict";e.exports=require("@apollo/client")},3800:e=>{"use strict";e.exports=require("antd/lib/button")},7374:e=>{"use strict";e.exports=require("antd/lib/space")},1635:e=>{"use strict";e.exports=require("dayjs")},5345:e=>{"use strict";e.exports=require("for-editor")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[255,163,859,559],()=>r(6003));module.exports=a})();